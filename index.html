<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Elliotâ€™s Loading-Bar Gallery</title>
<style>
  body{font-family:sans-serif;background:#f4f4f4;margin:0;padding:2rem}
  h1{text-align:center;margin-bottom:1.5rem}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(130px,1fr));gap:1rem}
  .card{background:#fff;border-radius:8px;padding:.5rem;box-shadow:0 2px 5px rgba(0,0,0,.1);text-align:center}
  .card img,.card video{max-width:100%;max-height:120px;margin:0 auto;display:block}
  /* make static images look lively */
  .spin{animation:spin 6s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}
  .name{font-size:.7rem;margin-top:.4rem;word-break:break-all;color:#555}
</style>
</head>
<body>
<h1>ðŸ“Š Elliotâ€™s Loading-Bar Gallery</h1>
<div id="gallery" class="grid"></div>

<script>
/* ==== CONFIG ==== */
const owner = "Elliotisnt";          // GitHub username
const repo  = "loading-bars";        // repo name
const path  = "";                    // subfolder ("" = repo root)

/* extensions you WANT to display */
const ALLOWED = /\.(gif|apng|webm|svg|png|jpe?g)$/i;
/* extensions considered already animated (no spin) */
const ANIMATED = /\.(gif|apng|webm)$/i;

/* ==== RENDER ==== */
(async ()=>{
  const res = await fetch(`https://api.github.com/repos/${owner}/${repo}/contents/${path}`);
  const files = await res.json();
  const gallery = document.getElementById("gallery");

  files.filter(f=>ALLOWED.test(f.name)).forEach(file=>{
    const card = document.createElement("div");
    card.className = "card";

    let media;
    if (/\.webm$/i.test(file.name)){
      media = document.createElement("video");
      Object.assign(media,{src:file.download_url,autoplay:true,loop:true,muted:true});
    } else {
      media = document.createElement("img");
      media.src = file.download_url;
      if (!ANIMATED.test(file.name)) media.classList.add("spin");
    }

    const caption = document.createElement("div");
    caption.className = "name";
    caption.textContent = file.name;

    card.append(media,caption);
    gallery.append(card);
  });
})();
</script>
</body>
</html>
